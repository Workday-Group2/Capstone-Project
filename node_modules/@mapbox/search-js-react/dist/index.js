var Q=Object.create;var M=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,Y=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var C=(r,t,o)=>t in r?M(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,A=(r,t)=>{for(var o in t||(t={}))L.call(t,o)&&C(r,o,t[o]);if(b)for(var o of b(t))H.call(t,o)&&C(r,o,t[o]);return r};var B=r=>M(r,"__esModule",{value:!0});var R=(r,t)=>{var o={};for(var s in r)L.call(r,s)&&t.indexOf(s)<0&&(o[s]=r[s]);if(r!=null&&b)for(var s of b(r))t.indexOf(s)<0&&H.call(r,s)&&(o[s]=r[s]);return o};var Z=(r,t)=>{for(var o in t)M(r,o,{get:t[o],enumerable:!0})},j=(r,t,o,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of W(t))!L.call(r,u)&&(o||u!=="default")&&M(r,u,{get:()=>t[u],enumerable:!(s=V(t,u))||s.enumerable});return r},y=(r,t)=>j(B(M(r!=null?Q(Y(r)):{},"default",!t&&r&&r.__esModule?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r),_=(r=>(t,o)=>r&&r.get(t)||(o=j(B({}),t,1),r&&r.set(t,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var re={};Z(re,{AddressAutofill:()=>F,AddressMinimap:()=>J,SearchBox:()=>I,config:()=>N.config,useConfirmAddress:()=>z,useEvented:()=>K,useMapboxAutofill:()=>U,useMapboxSearch:()=>X,useSearchSession:()=>G});var Ee=require("@mapbox/search-js-web"),N=require("@mapbox/search-js-web");var f=y(require("react")),F=f.default.forwardRef((r,t)=>{let{accessToken:o,options:s,theme:u,popoverOptions:p,confirmOnBrowserAutofill:S,children:v,onSuggest:g,onSuggestError:d,onRetrieve:m}=r,n=(0,f.useRef)();return(0,f.useImperativeHandle)(t,()=>({focus:()=>{if(n.current)return n.current.focus();throw new Error("AddressAutofill is not mounted")}})),(0,f.useEffect)(()=>{n.current&&(n.current.options=s)},[n.current,s]),(0,f.useEffect)(()=>{n.current&&(n.current.theme=u)},[n.current,u]),(0,f.useEffect)(()=>{n.current&&(n.current.popoverOptions=p)},[n.current,p]),(0,f.useEffect)(()=>{n.current&&(n.current.confirmOnBrowserAutofill=S)},[n.current,S]),(0,f.useEffect)(()=>{let e=n.current;if(!e||!g)return;let i=a=>g(a.detail);return e.addEventListener("suggest",i),()=>{e.removeEventListener("suggest",i)}},[n.current,g]),(0,f.useEffect)(()=>{let e=n.current;if(!e||!d)return;let i=a=>d(a.detail);return e.addEventListener("suggesterror",i),()=>{e.removeEventListener("suggesterror",i)}},[n.current,d]),(0,f.useEffect)(()=>{let e=n.current;if(!e||!m)return;let i=a=>m(a.detail);return e.addEventListener("retrieve",i),()=>{e.removeEventListener("retrieve",i)}},[n.current,m]),(0,f.useEffect)(()=>{n.current&&(n.current.accessToken=o)},[n.current,o]),f.default.createElement("mapbox-address-autofill",{ref:n},v)});var c=y(require("react")),I=c.default.forwardRef((r,t)=>{let{accessToken:o,options:s,theme:u,popoverOptions:p,map:S,value:v,onChange:g,onSuggest:d,onSuggestError:m,onRetrieve:n}=r,e=(0,c.useRef)();return(0,c.useImperativeHandle)(t,()=>({focus:()=>{if(e.current)return e.current.focus();throw new Error("SearchBox is not mounted")}})),(0,c.useEffect)(()=>{e.current&&(e.current.options=s)},[e.current,s]),(0,c.useEffect)(()=>{e.current&&(e.current.theme=u)},[e.current,u]),(0,c.useEffect)(()=>{e.current&&(e.current.popoverOptions=p)},[e.current,p]),(0,c.useEffect)(()=>{e.current&&(e.current.value=v)},[e.current,v]),(0,c.useEffect)(()=>{let i=e.current;if(!!i)return i.bindMap(S),()=>{i.unbindMap()}},[e.current,S]),(0,c.useEffect)(()=>{let i=e.current;if(!i)return;let a=x=>d(x.detail);return i.addEventListener("suggest",a),()=>{i.removeEventListener("suggest",a)}},[e.current,d]),(0,c.useEffect)(()=>{let i=e.current;if(!i)return;let a=x=>m(x.detail);return i.addEventListener("suggesterror",a),()=>{i.removeEventListener("suggesterror",a)}},[e.current,m]),(0,c.useEffect)(()=>{let i=e.current;if(!i)return;let a=x=>n(x.detail);return i.addEventListener("retrieve",a),()=>{i.removeEventListener("retrieve",a)}},[e.current,n]),(0,c.useEffect)(()=>{let i=e.current;if(!i)return;let a=x=>g(x.detail);return i.addEventListener("input",a),()=>{i.removeEventListener("input",a)}},[e.current,g]),(0,c.useEffect)(()=>{e.current&&(e.current.accessToken=o)},[e.current,o]),c.default.createElement("mapbox-search-box",{ref:e})});var l=y(require("react"));function J(r){let{canAdjustMarker:t=!1,keepMarkerCentered:o=!1,markerAnchor:s="bottom",onSaveMarkerLocation:u,show:p=!1,accessToken:S,feature:v=null,satelliteToggle:g=!1,theme:d,mapStyleMode:m="default",defaultMapStyle:n=["mapbox","streets-v11"]}=r,e=(0,l.useRef)();return(0,l.useEffect)(()=>{!e.current||(p?e.current.show():e.current.hide())},[e.current,p]),(0,l.useEffect)(()=>{e.current&&(e.current.theme=d)},[e.current,d]),(0,l.useEffect)(()=>{e.current&&(e.current.feature=p?v:null)},[e.current,v,p]),(0,l.useEffect)(()=>{e.current&&(e.current.mapStyleMode=m)},[e.current,m]),(0,l.useEffect)(()=>{e.current&&(e.current.defaultMapStyle=n)},[e.current,n]),(0,l.useEffect)(()=>{e.current&&(e.current.accessToken=S)},[e.current,S]),(0,l.useEffect)(()=>{e.current&&(e.current.onSaveMarkerLocation=u)},[e.current,u]),l.default.createElement("mapbox-address-minimap",{ref:e,"can-adjust-marker":t,"keep-marker-centered":o,"marker-anchor":s,"satellite-toggle":g})}var h=require("react");function K(r,t,o){let s=(0,h.useRef)(o);(0,h.useEffect)(()=>{s.current=o}),(0,h.useEffect)(()=>{if(!r)return;let u=p=>s.current(p);return r.addEventListener(t,u),()=>{r.removeEventListener(t,u)}},[r,t,s])}var E=require("react"),w=require("@mapbox/search-js-core"),$=w.MapboxAutofill.defaults;function U(r){let t=(0,E.useMemo)(()=>new w.MapboxAutofill,[]);return(0,E.useEffect)(()=>{let u=r,{accessToken:o}=u,s=R(u,["accessToken"]);t.accessToken=o,t.defaults=A(A({},$),s)},[r]),t}var T=require("react"),P=require("@mapbox/search-js-core"),ee=P.MapboxSearch.defaults;function X(r){let t=(0,T.useMemo)(()=>new P.MapboxSearch,[]);return(0,T.useEffect)(()=>{let u=r,{accessToken:o}=u,s=R(u,["accessToken"]);t.accessToken=o,t.defaults=A(A({},ee),s)},[r]),t}var O=require("@mapbox/search-js-core"),D=require("react");function G(r){let t=(0,D.useMemo)(()=>new O.SearchSession(r),[r]);return r instanceof O.MapboxSearch,t}var k=require("react"),q=require("@mapbox/search-js-web");function z(r={}){let t=(0,k.useRef)(null);return(0,k.useMemo)(()=>({formRef:t,showConfirm:()=>(0,q.confirmAddress)(t.current,r)}),[t,r])}module.exports=_(re);
//# sourceMappingURL=index.js.map
